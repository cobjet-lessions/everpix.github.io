(function(n){n.plot.plugins.push({init:function(n){function s(a,e){for(var f=[],c=0;c<a.length;c++)f[0]=a[c].data[0][e],f[1]=a[c].data[a[c].data.length-1][e];"string"==typeof f[0]&&(f[0]=0,f[1]=a[0].data.length-1);return f}function p(a,e){var f=a.bars.barWidth?a.bars.barWidth:1,c=e.bars.barWidth?e.bars.barWidth:1;return f<c?-1:f>c?1:0}function q(a,e,f){f=a.slice((f||e)+1||a.length);a.length=0>e?a.length+e:e;a.push.apply(a,f);return a}function t(a,e,f){for(var c=0;e<=f;e++)c+=a[e].bars.barWidth+2*
r;return c}var k,l,u=[],h=[],v,r,w=1,m=!1;n.hooks.processDatapoints.push(function(a,e,f){var c=null;if(null!=e.bars&&e.bars.show&&null!=e.bars.order){e.bars.horizontal&&(m=!0);var g=m?a.getPlaceholder().innerHeight():a.getPlaceholder().innerWidth(),b=m?s(a.getData(),1):s(a.getData(),0);w=(b[1]-b[0])/g;g=a.getData();a=[];for(b=0;b<g.length;b++)null!=g[b].bars.order&&g[b].bars.show&&a.push(g[b]);g=a.length;do{for(b=0;b<g-1;b++)if(a[b].bars.order>a[b+1].bars.order){var d=a[b];a[b]=a[b+1];a[b+1]=d}else a[b].bars.order==
a[b+1].bars.order&&(a[b].sameSeriesArrayIndex?void 0!==a[b+1].sameSeriesArrayIndex&&(d=a[b].sameSeriesArrayIndex,a[b+1].sameSeriesArrayIndex=d,h[d].push(a[b+1]),h[d].sort(p),a[b]=h[d][0],q(a,b+1)):a[b+1].sameSeriesArrayIndex?void 0!==a[b].sameSeriesArrayIndex&&(d=a[b+1].sameSeriesArrayIndex,a[b].sameSeriesArrayIndex=d,h[d].push(a[b]),h[d].sort(p),a[b]=h[d][0],q(a,b+1)):(d=h.length,h[d]=[],a[b].sameSeriesArrayIndex=d,a[b+1].sameSeriesArrayIndex=d,h[d].push(a[b]),h[d].push(a[b+1]),h[d].sort(p),a[b]=
h[d][0],q(a,b+1)),b--,g--);g-=1}while(1<g);for(b=0;b<a.length;b++)a[b].sameSeriesArrayIndex&&(u[a[b].sameSeriesArrayIndex]=b);k=a;l=k.length;v="number"===typeof e.bars.lineWidth?e.bars.lineWidth:2;r=v*w;if(2<=l){c=0;if(e.sameSeriesArrayIndex)c=u[e.sameSeriesArrayIndex];else for(a=0;a<k.length;++a)if(e==k[a]){c=a;break}c+=1;a=a=0;0!=l%2&&(a=k[Math.ceil(l/2)].bars.barWidth/2);c=a=c<=Math.ceil(l/2)?-1*t(k,c-1,Math.floor(l/2)-1)-a:t(k,Math.ceil(l/2),c-2)+a+2*r;a=f.pointsize;g=f.points;b=0;for(d=m?1:0;d<
g.length;d+=a)g[d]+=c,e.data[b][3]=g[d],b++;c=g;f.points=c}}return c})},options:{series:{bars:{order:null}}},name:"orderBars",version:"0.2"})})(jQuery);